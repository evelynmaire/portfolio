{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/main.js"],"names":["jQuery","document","ready","initModal","modalTrigger","modalTriggerId","attr","modal","$","svgCoverLayer","children","paths","find","pathsArray","Snap","eq","pathSteps","data","addClass","animateModal","duration","animationType","path1","path2","path3","animate","d","firstCustomMinaAnimation","modalTriggerBts","epsilon","x1","y1","x2","y2","curveX","t","v","curveY","derivativeCurveX","t0","t1","t2","d2","i","x","Math","abs","each","this"],"mappings":"AAAA;ACAAA,OAAOC,UAAUC,MAAM,WAgBtB,QAASC,GAAUC,GAClB,GAAIC,GAAkBD,EAAaE,KAAK,MACvCC,EAAQC,EAAE,yBAA0BH,EAAgB,MACpDI,EAAgBF,EAAMG,SAAS,cAC/BC,EAAQF,EAAcG,KAAK,QAC3BC,IAEDA,GAAW,GAAKC,KAAK,IAAIH,EAAMI,GAAG,GAAGT,KAAK,OAC1CO,EAAW,GAAKC,KAAK,IAAIH,EAAMI,GAAG,GAAGT,KAAK,OAC1CO,EAAW,GAAKC,KAAK,IAAIH,EAAMI,GAAG,GAAGT,KAAK,MAG1C,IAAIU,KACJA,GAAU,GAAKP,EAAcQ,KAAK,SAClCD,EAAU,GAAKP,EAAcQ,KAAK,SAClCD,EAAU,GAAKP,EAAcQ,KAAK,SAClCD,EAAU,GAAKP,EAAcQ,KAAK,SAClCD,EAAU,GAAKP,EAAcQ,KAAK,SAClCD,EAAU,GAAKP,EAAcQ,KAAK,SAGlC,WACCV,EAAMW,SAAS,oBAEfC,EAAaN,EAAYG,EAAWI,EAAU,WAYhD,QAASD,GAAaR,EAAOK,EAAWI,EAAUC,GACjD,GAAIC,GAA2B,QAAjBD,EAA4BL,EAAU,GAAKA,EAAU,GAClEO,EAA2B,QAAjBF,EAA4BL,EAAU,GAAKA,EAAU,GAC/DQ,EAA2B,QAAjBH,EAA4BL,EAAU,GAAKA,EAAU,EAChEL,GAAM,GAAGc,SAASC,EAAKJ,GAAQF,EAAUO,GACzChB,EAAM,GAAGc,SAASC,EAAKH,GAAQH,EAAUO,GACzChB,EAAM,GAAGc,SAASC,EAAKF,GAAQJ,EAAUO,GAzD1C,GAAIC,GAAkBpB,EAAE,mCAOpBY,GANUZ,EAAE,mBAMD,KACdqB,EAAW,IAAO,GAAKT,EAAY,EACnCO,EAmDD,SAAgBG,EAAIC,EAAIC,EAAIC,EAAIJ,GAE/B,GAAIK,GAAS,SAASC,GACrB,GAAIC,GAAI,EAAID,CACZ,OAAO,GAAIC,EAAIA,EAAID,EAAIL,EAAK,EAAIM,EAAID,EAAIA,EAAIH,EAAKG,EAAIA,EAAIA,GAGtDE,EAAS,SAASF,GACrB,GAAIC,GAAI,EAAID,CACZ,OAAO,GAAIC,EAAIA,EAAID,EAAIJ,EAAK,EAAIK,EAAID,EAAIA,EAAIF,EAAKE,EAAIA,EAAIA,GAGtDG,EAAmB,SAASH,GAC/B,GAAIC,GAAI,EAAID,CACZ,OAAO,IAAK,GAAKA,EAAI,GAAKA,EAAIC,EAAIA,GAAKN,EAAK,IAAOK,EAAIA,EAAIA,EAAI,EAAIC,EAAID,GAAKH,EAG7E,OAAO,UAASG,GAEf,GAAWI,GAAIC,EAAIC,EAAIT,EAAIU,EAAIC,EAA3BC,EAAIT,CAGR,KAAKM,EAAKG,EAAGD,EAAI,EAAGA,EAAI,EAAGA,IAAI,CAE9B,GADAX,EAAKE,EAAOO,GAAMG,EACdC,KAAKC,IAAId,GAAMH,EAAS,MAAOQ,GAAOI,EAE1C,IADAC,EAAKJ,EAAiBG,GAClBI,KAAKC,IAAIJ,GAAM,KAAM,KACzBD,IAAUT,EAAKU,EAKhB,GAFAH,EAAK,EAAGC,EAAK,EAAGC,EAAKG,EAEjBH,EAAKF,EAAI,MAAOF,GAAOE,EAC3B,IAAIE,EAAKD,EAAI,MAAOH,GAAOG,EAG3B,MAAOD,EAAKC,GAAG,CAEd,GADAR,EAAKE,EAAOO,GACRI,KAAKC,IAAId,EAAKY,GAAKf,EAAS,MAAOQ,GAAOI,EAC1CG,GAAIZ,EAAIO,EAAKE,EACZD,EAAKC,EACVA,EAAiB,IAAXD,EAAKD,GAAWA,EAIvB,MAAOF,GAAOI,KAhGmB,IAAI,IAAI,IAAI,IAAKZ,EAEpDD,GAAgBmB,KAAK,WACpB5C,EAAUK,EAAEwC","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","jQuery(document).ready(function(){\n\tvar modalTriggerBts = $('a[data-type=\"cd-modal-trigger\"]'),\n\t\tcoverLayer = $('.cd-cover-layer');\n\t\n\t/*\n\t\tconvert a cubic bezier value to a custom mina easing\n\t\thttp://stackoverflow.com/questions/25265197/how-to-convert-a-cubic-bezier-value-to-a-custom-mina-easing-snap-svg\n\t*/\n\tvar duration = 600,\n\t\tepsilon = (1000 / 60 / duration) / 4,\n\t\tfirstCustomMinaAnimation = bezier(.63,.35,.48,.92, epsilon);\n\n\tmodalTriggerBts.each(function(){\n\t\tinitModal($(this));\n\t});\n\n\tfunction initModal(modalTrigger) {\n\t\tvar modalTriggerId =  modalTrigger.attr('id'),\n\t\t\tmodal = $('.cd-modal[data-modal=\"'+ modalTriggerId +'\"]'),\n\t\t\tsvgCoverLayer = modal.children('.cd-svg-bg'),\n\t\t\tpaths = svgCoverLayer.find('path'),\n\t\t\tpathsArray = [];\n\t\t//store Snap objects\n\t\tpathsArray[0] = Snap('#'+paths.eq(0).attr('id')),\n\t\tpathsArray[1] = Snap('#'+paths.eq(1).attr('id')),\n\t\tpathsArray[2] = Snap('#'+paths.eq(2).attr('id'));\n\n\t\t//store path 'd' attribute values\t\n\t\tvar pathSteps = [];\n\t\tpathSteps[0] = svgCoverLayer.data('step1');\n\t\tpathSteps[1] = svgCoverLayer.data('step2');\n\t\tpathSteps[2] = svgCoverLayer.data('step3');\n\t\tpathSteps[3] = svgCoverLayer.data('step4');\n\t\tpathSteps[4] = svgCoverLayer.data('step5');\n\t\tpathSteps[5] = svgCoverLayer.data('step6');\n\t\t\n\t\t//open modal window\n\t\t(function(){\n\t\t\tmodal.addClass('modal-is-visible');\n\t\t\t// coverLayer.addClass('modal-is-visible');\n\t\t\tanimateModal(pathsArray, pathSteps, duration, 'open');\n\t\t})();\n\n\t\t//close modal window\n\t\t// modal.on('click', '.modal-close', function(event){\n\t\t// \tevent.preventDefault();\n\t\t// \tmodal.removeClass('modal-is-visible');\n\t\t// \tcoverLayer.removeClass('modal-is-visible');\n\t\t// \tanimateModal(pathsArray, pathSteps, duration, 'close');\n\t\t// });\n\t}\n\n\tfunction animateModal(paths, pathSteps, duration, animationType) {\n\t\tvar path1 = ( animationType == 'open' ) ? pathSteps[1] : pathSteps[0],\n\t\t\tpath2 = ( animationType == 'open' ) ? pathSteps[3] : pathSteps[2],\n\t\t\tpath3 = ( animationType == 'open' ) ? pathSteps[5] : pathSteps[4];\n\t\tpaths[0].animate({'d': path1}, duration, firstCustomMinaAnimation);\n\t\tpaths[1].animate({'d': path2}, duration, firstCustomMinaAnimation);\n\t\tpaths[2].animate({'d': path3}, duration, firstCustomMinaAnimation);\n\t}\n\n\tfunction bezier(x1, y1, x2, y2, epsilon){\n\t\t//https://github.com/arian/cubic-bezier\n\t\tvar curveX = function(t){\n\t\t\tvar v = 1 - t;\n\t\t\treturn 3 * v * v * t * x1 + 3 * v * t * t * x2 + t * t * t;\n\t\t};\n\n\t\tvar curveY = function(t){\n\t\t\tvar v = 1 - t;\n\t\t\treturn 3 * v * v * t * y1 + 3 * v * t * t * y2 + t * t * t;\n\t\t};\n\n\t\tvar derivativeCurveX = function(t){\n\t\t\tvar v = 1 - t;\n\t\t\treturn 3 * (2 * (t - 1) * t + v * v) * x1 + 3 * (- t * t * t + 2 * v * t) * x2;\n\t\t};\n\n\t\treturn function(t){\n\n\t\t\tvar x = t, t0, t1, t2, x2, d2, i;\n\n\t\t\t// First try a few iterations of Newton's method -- normally very fast.\n\t\t\tfor (t2 = x, i = 0; i < 8; i++){\n\t\t\t\tx2 = curveX(t2) - x;\n\t\t\t\tif (Math.abs(x2) < epsilon) return curveY(t2);\n\t\t\t\td2 = derivativeCurveX(t2);\n\t\t\t\tif (Math.abs(d2) < 1e-6) break;\n\t\t\t\tt2 = t2 - x2 / d2;\n\t\t\t}\n\n\t\t\tt0 = 0, t1 = 1, t2 = x;\n\n\t\t\tif (t2 < t0) return curveY(t0);\n\t\t\tif (t2 > t1) return curveY(t1);\n\n\t\t\t// Fallback to the bisection method for reliability.\n\t\t\twhile (t0 < t1){\n\t\t\t\tx2 = curveX(t2);\n\t\t\t\tif (Math.abs(x2 - x) < epsilon) return curveY(t2);\n\t\t\t\tif (x > x2) t0 = t2;\n\t\t\t\telse t1 = t2;\n\t\t\t\tt2 = (t1 - t0) * .5 + t0;\n\t\t\t}\n\n\t\t\t// Failure\n\t\t\treturn curveY(t2);\n\n\t\t};\n\t};\n});"]}